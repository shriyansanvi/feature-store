<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Checkout - ModernStore</title>
    <link rel="stylesheet" href="/static/shop_style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    
    <!-- === SECURITY CHALLENGE MODAL === -->
    <div class="modal-overlay" id="security-modal">
        <div class="security-card">
            <div class="security-header">
                <i class="fas fa-shield-alt"></i> Security Alert
            </div>
            <div class="security-body">
                <h3>Unusual Activity Detected</h3>
                <p>We noticed a transaction that is significantly higher than your average spending history. For your protection, please confirm this is you.</p>
                <div class="security-actions">
                    <button id="btn-deny" class="sec-btn deny">No, Cancel</button>
                    <button id="btn-verify" class="sec-btn verify">Yes, It's Me</button>
                </div>
            </div>
        </div>
    </div>
    <!-- ================================= -->

    <div class="shop-header" style="background:#fff;">
        <div class="shop-container header-inner">
            <a href="/shop" class="shop-logo">ModernStore.</a>
            <a href="/shop" style="color:#555; font-weight:500;">&larr; Continue Shopping</a>
        </div>
    </div>

    <div class="shop-container checkout-wrapper">
        <!-- Left Column: Details -->
        <div class="checkout-details">
            <div class="checkout-card">
                <h2 style="margin-top:0;">Shipping & Payment</h2>
                <p style="color:#666; margin-bottom:20px;">Secure 256-bit SSL Encrypted.</p>
                
                <div class="form-group">
                    <label>Email Address</label>
                    <input type="email" value="user@example.com">
                </div>
                <div class="form-group">
                    <label>Shipping Address</label>
                    <input type="text" value="123 Tech Street, Silicon Valley">
                </div>

                <div style="display:grid; grid-template-columns: 1fr 1fr; gap:20px;">
                    <div class="form-group">
                        <label>User ID (Hidden Simulation)</label>
                        <input type="number" id="user_id" readonly style="background:#f9f9f9; color:#777;">
                    </div>
                    <div class="form-group">
                        <label>Name on Card</label>
                        <input type="text" id="name" value="John Doe">
                    </div>
                </div>

                <button id="pay-btn" class="checkout-btn" style="margin-top:20px;">Pay & Place Order</button>
                
                <div id="payment-status" class="status-box" style="display:none;">
                    Processing...
                </div>
            </div>
        </div>

        <!-- Right Column: Order Summary -->
        <div class="checkout-summary">
            <div class="checkout-card" style="background:#fcfcfc;">
                <h3 style="margin-top:0;">Order Summary</h3>
                <div id="checkout-items" style="border-bottom:1px solid #eee; padding-bottom:15px; margin-bottom:15px;">
                    <!-- Items go here -->
                </div>
                
                <div class="summary-row">
                    <span>Subtotal</span>
                    <span id="checkout-subtotal">$0.00</span>
                </div>
                
                <!-- Discount Row (Hidden until active) -->
                <div id="discount-row" class="summary-row discount-row" style="display:none;">
                    <span>Discount</span>
                    <span id="discount-amount">-$0.00</span>
                </div>

                <div class="summary-row">
                    <span>Shipping</span>
                    <span>Free</span>
                </div>
                
                <!-- Coupon Input -->
                <div class="coupon-section">
                    <label style="font-size:0.85em; font-weight:bold;">Gift Card or Discount Code</label>
                    <div class="coupon-input-group">
                        <input type="text" id="coupon-code" placeholder="Try 'SAVE20'">
                        <button class="apply-btn" id="apply-coupon">Apply</button>
                    </div>
                    <span id="coupon-msg" class="coupon-msg"></span>
                </div>

                <div class="summary-total">
                    <span>Total</span>
                    <span id="checkout-total">$0.00</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="/static/shop_core.js"></script>
    <script src="/static/shop_checkout.js?v=999"></script>
</body>
</html>